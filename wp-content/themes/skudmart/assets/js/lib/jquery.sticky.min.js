(function(a){"use strict";var b=function(b,c){var d,e,f=!1,g=!1,h=!1,i={},j=a("body").hasClass("rtl"),k={to:"top",offset:0,effectsOffset:0,parent:!1,classes:{sticky:"sticky",stickyActive:"sticky-active",stickyEffects:"sticky-effects",spacer:"sticky-spacer"}},l=function(){d=a(b).addClass(e.classes.sticky),i.$window=a(window),e.parent&&("parent"===e.parent?i.$parent=d.parent():d.closest(e.parent).length?i.$parent=d.closest(e.parent):i.$parent=a(e.parent))},m=function(){e=jQuery.extend(!0,k,c)},n=function(){i.$window.on({scroll:E,resize:F})},o=function(){i.$window.off("scroll",E).off("resize",F)},p=function(a,b,c){var d={},e=a[0].style;c.forEach(function(a){d[a]="left"===a?"":void 0===e[a]?"":e[a]}),a.data("css-backup-"+b,d)},q=function(a,b){return a.data("css-backup-"+b)},r=function(){i.$spacer=d.clone().addClass(e.classes.spacer).css({visibility:"hidden",transition:"none",animation:"none"}),d.after(i.$spacer)},s=function(){i.$spacer.remove()},t=function(){p(d,"unsticky",["position","width","margin-top","margin-bottom","top","bottom"]);var a={position:"fixed",width:x(d,"width"),marginTop:0,marginBottom:0};a[e.to]=e.offset,a["top"===e.to?"bottom":"top"]="";var b=d.offset().left;a.left=b,d.css(a).addClass(e.classes.stickyActive)},u=function(){d.css(q(d,"unsticky")).css("left","").removeClass(e.classes.stickyActive)},v=function(){p(i.$parent,"childNotFollowing",["position"]),i.$parent.css("position","relative"),p(d,"notFollowing",["position","top","bottom"]);var a={position:"absolute"};a[e.to]="",a["top"===e.to?"bottom":"top"]=0,d.css(a).css("left",""),g=!0},w=function(){i.$parent.css(q(i.$parent,"childNotFollowing")),d.css(q(d,"notFollowing")).css("left",""),g=!1},x=function(a,b,c){var d=getComputedStyle(a[0]),e=parseFloat(d[b]),f="height"===b?["top","bottom"]:["left","right"],g=[];return"border-box"!==d.boxSizing&&g.push("border","padding"),c&&g.push("margin"),g.forEach(function(a){f.forEach(function(b){e+=parseFloat(d[a+"-"+b])})}),e},y=function(a){var b=i.$window.scrollTop(),c=x(a,"height"),d=innerHeight,e=a.offset().top,f=e-b,g=f-d;return{top:{fromTop:f,fromBottom:g},bottom:{fromTop:f+c,fromBottom:g+c}}},z=function(){r(),t(),f=!0,d.trigger("sticky:stick")},A=function(){u(),s(),f=!1,d.trigger("sticky:unstick")},B=function(){var a=y(d),b="top"===e.to;if(g){var c=b?a.top.fromTop>e.offset:a.bottom.fromBottom<-e.offset;c&&w()}else{var f=y(i.$parent),h=getComputedStyle(i.$parent[0]),j=parseFloat(h[b?"borderBottomWidth":"borderTopWidth"]),k=b?f.bottom.fromTop-j:f.top.fromBottom+j,l=b?k<=a.bottom.fromTop:k>=a.top.fromBottom;l&&v()}},C=function(a){h&&-a<e.effectsOffset?(d.removeClass(e.classes.stickyEffects),h=!1):!h&&-a>=e.effectsOffset&&(d.addClass(e.classes.stickyEffects),h=!0)},D=function(){var a,b=e.offset;if(f){var c=y(i.$spacer);a="top"===e.to?c.top.fromTop-b:-c.bottom.fromBottom-b,e.parent&&B(),0<a&&A()}else{var g=y(d);a="top"===e.to?g.top.fromTop-b:-g.bottom.fromBottom-b,0>=a&&(z(),e.parent&&B())}C(a)},E=function(){D()},F=function(){f&&(u(),t())};this.destroy=function(){f&&A(),o(),d.removeClass(e.classes.sticky)},function(){m(),l(),n(),D()}()};a.fn.lasfsticky=function(c){return this.each(function(){var d=a(this);if(!("string"==typeof c))return void d.data("sticky",new b(this,c));var e=d.data("sticky");if(!e)throw Error("Trying to perform the `"+c+"` method prior to initialization");if(!e[c])throw ReferenceError("Method `"+c+"` not found in sticky instance");e[c].apply(e,Array.prototype.slice.call(arguments,1)),"destroy"===c&&d.removeData("sticky")}),this},window.LASFSticky=b})(jQuery);